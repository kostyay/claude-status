{"id":"claude-status-04a","title":"Add TemplateWithBeads example template","description":"Add new const to internal/config/config.go:\nTemplateWithBeads showing multi-line output with beads widget on second line.\nFormat: Line1 has model/dir/branch/context, Line2 has beads stats and next task.\nInclude in code comments as example for users.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:43.253715+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.260735+01:00","closed_at":"2026-01-03T21:11:43.260735+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-04a","depends_on_id":"claude-status-1ks","type":"blocks","created_at":"2026-01-03T21:03:26.721445+01:00","created_by":"kostya"},{"issue_id":"claude-status-04a","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.925087+01:00","created_by":"kostya"}]}
{"id":"claude-status-1ks","title":"Integrate beads stats fetching in status.Builder.Build()","description":"Update Build() method:\n- Check if beads provider is enabled\n- If enabled, fetch stats via cache with configured TTL\n- Populate StatusData beads fields from Stats\n- Handle errors gracefully (log and continue without beads data)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:43.003586+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.257784+01:00","closed_at":"2026-01-03T21:11:43.257784+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-1ks","depends_on_id":"claude-status-yx0","type":"blocks","created_at":"2026-01-03T21:03:20.218734+01:00","created_by":"kostya"},{"issue_id":"claude-status-1ks","depends_on_id":"claude-status-q1v","type":"blocks","created_at":"2026-01-03T21:03:20.304246+01:00","created_by":"kostya"},{"issue_id":"claude-status-1ks","depends_on_id":"claude-status-chz","type":"blocks","created_at":"2026-01-03T21:03:20.391597+01:00","created_by":"kostya"},{"issue_id":"claude-status-1ks","depends_on_id":"claude-status-2hp","type":"blocks","created_at":"2026-01-03T21:03:20.466893+01:00","created_by":"kostya"},{"issue_id":"claude-status-1ks","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.837314+01:00","created_by":"kostya"}]}
{"id":"claude-status-1mm","title":"Run tests and verify TestE2E_BeadsRealCLI passes","description":"Execute 'make test' to verify the new integration test passes. Ensure test properly skips on systems without bd installed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:17:46.757053+01:00","created_by":"kostya","updated_at":"2026-01-03T21:23:30.385267+01:00","closed_at":"2026-01-03T21:23:30.385267+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-status-1mm","depends_on_id":"claude-status-um2","type":"blocks","created_at":"2026-01-03T21:19:35.345113+01:00","created_by":"kostya"}]}
{"id":"claude-status-2hp","title":"Add BeadsProvider interface to status.Builder","description":"Update internal/status/status.go:\n- Add BeadsProvider interface with IsEnabled() bool and GetStats() (beads.Stats, error)\n- Add beads field to Builder struct\n- Update NewBuilder to initialize beads client if .beads/ exists\n- Update NewBuilderWithDeps to accept BeadsProvider parameter","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:42.763183+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.254131+01:00","closed_at":"2026-01-03T21:11:43.254131+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-2hp","depends_on_id":"claude-status-cc6","type":"blocks","created_at":"2026-01-03T21:03:18.382569+01:00","created_by":"kostya"},{"issue_id":"claude-status-2hp","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.757888+01:00","created_by":"kostya"}]}
{"id":"claude-status-32w","title":"Add helper function to create beads tasks","description":"Create createBeadsTasks(t, dir) helper to run 'bd create' commands to add test tasks and set up dependencies","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:17:46.357224+01:00","created_by":"kostya","updated_at":"2026-01-03T21:23:30.380723+01:00","closed_at":"2026-01-03T21:23:30.380723+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-status-32w","depends_on_id":"claude-status-ajh","type":"blocks","created_at":"2026-01-03T21:19:34.798413+01:00","created_by":"kostya"}]}
{"id":"claude-status-54d","title":"Write unit tests for beads caching","description":"Update internal/cache/cache_test.go with tests for:\n- GetBeadsStats with fresh fetch\n- GetBeadsStats with cached value (within TTL)\n- GetBeadsStats with expired cache (after TTL)\n- Error handling when fetchFn fails","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:43.737271+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.259519+01:00","closed_at":"2026-01-03T21:11:43.259519+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-54d","depends_on_id":"claude-status-chz","type":"blocks","created_at":"2026-01-03T21:03:30.087148+01:00","created_by":"kostya"},{"issue_id":"claude-status-54d","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:39.100344+01:00","created_by":"kostya"}]}
{"id":"claude-status-9eb","title":"Write unit tests for internal/beads package","description":"Create internal/beads/beads_test.go with tests for:\n- IsEnabled() with and without .beads/ directory\n- GetStats() with mocked bd commands\n- JSON parsing for bd stats output\n- JSON parsing for bd ready output\n- Timeout handling\n- Error cases (command failure, invalid JSON)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:43.497394+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.255337+01:00","closed_at":"2026-01-03T21:11:43.255337+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-9eb","depends_on_id":"claude-status-cc6","type":"blocks","created_at":"2026-01-03T21:03:30.003528+01:00","created_by":"kostya"},{"issue_id":"claude-status-9eb","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:39.013388+01:00","created_by":"kostya"}]}
{"id":"claude-status-ajh","title":"Add helper function to initialize beads in directory","description":"Create initBeads(t, dir) helper to run 'bd init --prefix test --skip-hooks --sandbox' in the temp directory","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:17:46.168091+01:00","created_by":"kostya","updated_at":"2026-01-03T21:23:30.37942+01:00","closed_at":"2026-01-03T21:23:30.37942+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-status-ajh","depends_on_id":"claude-status-au0","type":"blocks","created_at":"2026-01-03T21:19:34.627435+01:00","created_by":"kostya"}]}
{"id":"claude-status-au0","title":"Add helper function to initialize git repo in temp directory","description":"Create initGitRepo(t, dir) helper to run git init, config user.email/name, and initial commit. Follows existing TestE2E_RealGitRepo pattern.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:17:45.99585+01:00","created_by":"kostya","updated_at":"2026-01-03T21:23:30.378022+01:00","closed_at":"2026-01-03T21:23:30.378022+01:00","close_reason":"Closed"}
{"id":"claude-status-bct","title":"Add real E2E beads integration test using actual CLI","description":"Add a true integration test that sets up an actual beads database via the bd CLI tool, creates tasks, and validates parsing against real data. Currently all beads tests use mocks.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T21:17:33.284755+01:00","created_by":"kostya","updated_at":"2026-01-03T21:23:30.387004+01:00","closed_at":"2026-01-03T21:23:30.387004+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-status-bct","depends_on_id":"claude-status-1mm","type":"blocks","created_at":"2026-01-03T21:19:35.509541+01:00","created_by":"kostya"}]}
{"id":"claude-status-cc6","title":"Implement beads.Client.GetStats() method","description":"Implement GetStats() that:\n- Runs 'bd stats --json' to get open/in_progress/blocked counts\n- Runs 'bd ready --limit 1 --json' to get next task title and ID\n- Parses JSON responses into Stats struct\n- Truncates NextTask title to 40 chars if needed\n- Uses 2-second timeout for each command\n- Returns error if bd command fails or JSON parsing fails","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:41.79456+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.252807+01:00","closed_at":"2026-01-03T21:11:43.252807+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-cc6","depends_on_id":"claude-status-sh7","type":"blocks","created_at":"2026-01-03T21:03:14.048962+01:00","created_by":"kostya"},{"issue_id":"claude-status-cc6","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.429834+01:00","created_by":"kostya"}]}
{"id":"claude-status-chz","title":"Add GetBeadsStats to CacheProvider interface and implement in cache.Manager","description":"Update caching layer:\n- Add GetBeadsStats(ttl time.Duration, fetchFn func() (beads.Stats, error)) method to CacheProvider interface\n- Implement in cache.Manager with TTL-based invalidation\n- Store beads stats in cache with expiration timestamp\n- Return cached value if not expired, otherwise call fetchFn","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:42.520273+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.256525+01:00","closed_at":"2026-01-03T21:11:43.256525+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-chz","depends_on_id":"claude-status-cc6","type":"blocks","created_at":"2026-01-03T21:03:15.871219+01:00","created_by":"kostya"},{"issue_id":"claude-status-chz","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.672147+01:00","created_by":"kostya"}]}
{"id":"claude-status-ehp","title":"Add helper function to skip test if bd CLI not installed","description":"Create skipIfBdNotAvailable(t) helper using exec.LookPath('bd') pattern matching existing git skip pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:17:45.813393+01:00","created_by":"kostya","updated_at":"2026-01-03T21:23:30.376048+01:00","closed_at":"2026-01-03T21:23:30.376048+01:00","close_reason":"Closed"}
{"id":"claude-status-ir1","title":"Test task for status line","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:33:12.559434+01:00","created_by":"kostya","updated_at":"2026-01-03T21:35:08.435009+01:00","closed_at":"2026-01-03T21:35:08.435009+01:00","close_reason":"Test task for status line feature"}
{"id":"claude-status-q1v","title":"Add BeadsTTL config field with 60s default","description":"Update internal/config/config.go:\n- Add BeadsTTL int json field to Config struct\n- Set default to 60 in Default() function\n- Add merge logic in LoadFrom() for non-zero values","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:42.287685+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.24837+01:00","closed_at":"2026-01-03T21:11:43.24837+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-q1v","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.592344+01:00","created_by":"kostya"}]}
{"id":"claude-status-rl6","title":"Update status_test.go for beads integration","description":"Update internal/status/status_test.go:\n- Add mock BeadsProvider\n- Test Build() with beads enabled\n- Test Build() with beads disabled\n- Test beads fields in StatusData output","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:43.983431+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.262038+01:00","closed_at":"2026-01-03T21:11:43.262038+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-rl6","depends_on_id":"claude-status-1ks","type":"blocks","created_at":"2026-01-03T21:03:30.172485+01:00","created_by":"kostya"},{"issue_id":"claude-status-rl6","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:39.186648+01:00","created_by":"kostya"}]}
{"id":"claude-status-s0n","title":"Add integration test for beads widget","description":"Update integration_test.go:\n- Create temp directory with .beads/ setup\n- Run full pipeline with beads data\n- Verify beads fields appear in output when using TemplateWithBeads","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:44.236126+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.26357+01:00","closed_at":"2026-01-03T21:11:43.26357+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-s0n","depends_on_id":"claude-status-04a","type":"blocks","created_at":"2026-01-03T21:03:30.24841+01:00","created_by":"kostya"},{"issue_id":"claude-status-s0n","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:39.269671+01:00","created_by":"kostya"}]}
{"id":"claude-status-sei","title":"Add beads widget to status line","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-03T21:02:14.316045+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.264847+01:00","closed_at":"2026-01-03T21:11:43.264847+01:00","close_reason":"Implemented beads widget feature"}
{"id":"claude-status-sh7","title":"Create internal/beads package with Stats struct and Client","description":"Create new package internal/beads with:\n- Stats struct (Open, InProgress, Blocked int; NextTask, NextTaskID string)\n- Client struct with workDir field\n- Commander interface for dependency injection (like git package)\n- IsEnabled() bool method - checks for .beads/ directory existence\n- 2-second timeout constant","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:41.577609+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.249985+01:00","closed_at":"2026-01-03T21:11:43.249985+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-sh7","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.344022+01:00","created_by":"kostya"}]}
{"id":"claude-status-um2","title":"Write TestE2E_BeadsRealCLI test function","description":"Main test function that: 1) skips if bd not available, 2) creates temp dir, 3) initializes git, 4) initializes beads, 5) creates tasks, 6) calls beads.NewClient().GetStats(), 7) verifies counts match expected","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:17:46.555349+01:00","created_by":"kostya","updated_at":"2026-01-03T21:23:30.382337+01:00","closed_at":"2026-01-03T21:23:30.382337+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-status-um2","depends_on_id":"claude-status-ehp","type":"blocks","created_at":"2026-01-03T21:19:34.959754+01:00","created_by":"kostya"},{"issue_id":"claude-status-um2","depends_on_id":"claude-status-au0","type":"blocks","created_at":"2026-01-03T21:19:35.034029+01:00","created_by":"kostya"},{"issue_id":"claude-status-um2","depends_on_id":"claude-status-ajh","type":"blocks","created_at":"2026-01-03T21:19:35.104349+01:00","created_by":"kostya"},{"issue_id":"claude-status-um2","depends_on_id":"claude-status-32w","type":"blocks","created_at":"2026-01-03T21:19:35.175452+01:00","created_by":"kostya"}]}
{"id":"claude-status-yx0","title":"Add beads fields to template.StatusData","description":"Add 6 new fields to StatusData struct:\n- BeadsEnabled bool - true if .beads/ directory exists\n- BeadsOpen int - count of open issues\n- BeadsInProgress int - count of in_progress issues\n- BeadsBlocked int - count of blocked issues\n- BeadsNextTask string - title of next ready task\n- BeadsNextTaskID string - ID of next ready task","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T21:02:42.044768+01:00","created_by":"kostya","updated_at":"2026-01-03T21:11:43.251499+01:00","closed_at":"2026-01-03T21:11:43.251499+01:00","close_reason":"Implemented beads widget feature","dependencies":[{"issue_id":"claude-status-yx0","depends_on_id":"claude-status-sei","type":"parent-child","created_at":"2026-01-03T21:03:38.513164+01:00","created_by":"kostya"}]}
